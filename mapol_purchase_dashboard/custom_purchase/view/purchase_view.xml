<odoo>

	<record id="purchase_order_form_inherit_custom_purchase"
		model="ir.ui.view">
		<field name="name">purchase.order.form</field>
		<field name="model">purchase.order</field>
		<field name="inherit_id" ref="purchase.purchase_order_form" />
		<field name="arch" type="xml">
			<xpath expr="//field[@name='date_order']" position="after">
				<field name="is_production_purchase" />
				<field name="purchase_type" invisible="1"/>
			</xpath>
			<xpath
				expr="//notebook/page[1]/field[@name='order_line']/tree/field[@name='product_id']"
				position="attributes">
				<attribute name="domain">[('is_production_purchase','=',is_production_purchase)]
				</attribute>
			</xpath>
			<xpath
				expr="//notebook/page[1]/field[@name='order_line']/tree/field[@name='product_id']"
				position="after">
				<field name="is_production_purchase" invisible='1' />
			</xpath>
			<xpath expr="//field[@name='order_line']" position="attributes">
				<attribute name="context">{'default_is_production_purchase':is_production_purchase}
				</attribute>
			</xpath>
			<xpath expr="//header/field[@name='state']"
				position="attributes">
				<attribute name="statusbar_visible">draft,sent,purchase</attribute>
			</xpath>
			<xpath expr="//header/button[@name='button_cancel']"
				position="after">
				<button name='change_open_po' string="Open PO" states="purchase" type="object" attrs="{'invisible': [('state', 'in', ('open_po'))]}"/>
			</xpath>
			<xpath expr="//header/button[@name='button_done']"
				position="attributes">
				<attribute name="string">Close PO</attribute>
			</xpath>
			<xpath expr="//header/button[@name='button_cancel']"
				position="attributes">
				<attribute name="states">draft,to approve,sent,purchase,open_po</attribute>
			</xpath>
			<xpath expr="//header/button[@name='action_rfq_send']"
				position="replace">
				<button name="action_rfq_send" states="draft" string="Send by Email" type="object" context="{'send_rfq':True}" class="oe_highlight"/>
				<button name="action_rfq_send" states="open_po" string="Send PO by Email" type="object" context="{'send_rfq':False}"/>
				<button name="action_rfq_send" states="sent" string="Re-Send by Email" type="object" context="{'send_rfq':True}"/>
			</xpath>
			<xpath expr="//header/button[@name='button_cancel']"
				position="attributes">
				<attribute name="states">draft,to approve,sent,purchase,open_po</attribute>
			</xpath>
		</field>
	</record>
	<record id="view_purchase_order_filter_inherit_custom_purchase" model="ir.ui.view">
		<field name="name">purchase.order.filter</field>
		<field name="model">purchase.order</field>
		<field name="inherit_id"
			ref="purchase.view_purchase_order_filter" />
		<field name="arch" type="xml">
			<xpath expr="//filter[@name='expected_date']" position="after">
				<filter string="Purchase Type" name="purchase_type" domain="[]" context="{'group_by':'purchase_type'}"/>
			</xpath>
		</field>
	</record>
	
	<record id="purchase.purchase_form_action" model="ir.actions.act_window">
			<field name="context" eval="{'search_default_purchase_type':1}"/>  
	</record>
	<record id="purchase.purchase_rfq" model="ir.actions.act_window">
			<field name="context" eval="{'search_default_purchase_type':1}"/>  
	</record>
	
	<!-- <record
		id="product_normal_form_view_inherit_custom_purchase"
		model="ir.ui.view">
		<field name="name">product.product.form</field>
		<field name="model">product.product</field>
		<field name="inherit_id"
			ref="product.product_normal_form_view" />
		<field name="arch" type="xml">
			<xpath expr="//field[@name='default_code']" position="attributes">
				<attribute name="invisible">1</attribute>
			</xpath>
		</field>
	</record> -->
	
	<record
		id="product_template_only_form_view_inherit_custom_purchase"
		model="ir.ui.view">
		<field name="name">product.template.common.form</field>
		<field name="model">product.template</field>
		<field name="inherit_id"
			ref="product.product_template_form_view" />
		<field name="arch" type="xml">
			<xpath expr="//field[@name='route_ids']" position="after">
				<field name="is_production_purchase" invisible='1'/>
			</xpath>
			<!--  -->
			<xpath expr="//field[@name='type']" position="before">
				<field name="default_code" string="Product Code"/>
			</xpath>
		</field>
	</record>
	
	
</odoo>